{"version":3,"sources":["webpack:///./template/box.hbs","webpack:///./template/players.hbs","webpack:///./js/preolad.js","webpack:///./js/refs.js","webpack:///./js/ControlsGame.js","webpack:///./js/Modal.js","webpack:///./js/GameMaker.js","webpack:///./js/localStorageAPI.js","webpack:///./js/updateViewBestPlayers.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","setTimeout","document","querySelector","classList","add","refs","wrap","secsRef","enemy","wrapBtn","btnStart","form","input","score","topPlayersTable","ControlsGame","_timeLeft","_points","_intervalID","_isRun","this","isRun","timeLeft","innerHTML","points","intervalID","reset","Modal","showModal","controlsGame","$","modal","closeModal","value","GameMaker","gameField","_gameField","lenghtRow","lenghtCol","coubesContainer","randomGenerateBoxID","gamePlay","bind","generateBox","console","log","randomPosition","randomInteger","length","contains","randomSize","randomColor","getColor","className","markup","box","remove","target","parentElement","init","randomGenerateBox","setInterval","randomCount","Array","from","find","item","i","generateField","insertAdjacentHTML","querySelectorAll","setListener","props","addEventListener","removeEventListener","stopRandomGenerateBox","clearInterval","setRandomColor","rand","Math","random","floor","min","max","round","getPlayers","localStorage","getItem","JSON","parse","sort","compare","slice","a","b","updateViewBestPlayer","render","players","playersTemplate","gameMaker","pause","stop","disabled","id","getNewGame","e","preventDefault","namePlayer","currentTarget","elements","name","player","setItem","stringify"],"mappings":"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","file":"main.41a401a524598a7b7702.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"className\") || (depth0 != null ? lookupProperty(depth0,\"className\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"className\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":12},\"end\":{\"line\":1,\"column\":25}}}) : helper)))\n    + \"\\\" style=\\\"background-color: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"randomColor\") || (depth0 != null ? lookupProperty(depth0,\"randomColor\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"randomColor\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":52},\"end\":{\"line\":1,\"column\":67}}}) : helper)))\n    + \"; width: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"randomSize\") || (depth0 != null ? lookupProperty(depth0,\"randomSize\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"randomSize\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":76},\"end\":{\"line\":1,\"column\":90}}}) : helper)))\n    + \"%; height: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"randomSize\") || (depth0 != null ? lookupProperty(depth0,\"randomSize\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"randomSize\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":101},\"end\":{\"line\":1,\"column\":115}}}) : helper)))\n    + \"%\\\"></div>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"top-players__item\\\"><span class=\\\"info-player__index\\\"> </span><span class=\\\"info-player\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"namePlayer\") || (depth0 != null ? lookupProperty(depth0,\"namePlayer\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"namePlayer\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":97},\"end\":{\"line\":2,\"column\":111}}}) : helper)))\n    + \"</span> <span class=\\\"info-player\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"points\") || (depth0 != null ? lookupProperty(depth0,\"points\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"points\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":145},\"end\":{\"line\":2,\"column\":155}}}) : helper)))\n    + \"</span></li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const runPreloader = () => {\r\n  function loadData() {\r\n    setTimeout(() => {\r\n      let preloaderEl = document.querySelector('.loader-wrapper');\r\n      preloaderEl.classList.add('loader-hide');\r\n    }, 2000);\r\n  }\r\n  loadData();\r\n};\r\nexport default runPreloader();\r\n","const refs = {\n  wrap: document.querySelector('.wrap'),\n  secsRef: document.querySelector('.timer'),\n  enemy: document.querySelector('.enemy'),\n  wrapBtn: document.querySelector('.buttons-wrap'),\n  btnStart: document.querySelector('.start'),\n  form: document.querySelector('.form'),\n  input: document.querySelector('#name'),\n  score: document.querySelector('.your-result__score'),\n  topPlayersTable: document.querySelector('.top-players'),\n};\n\nexport default refs;\n","import vars from './vars';\r\nimport refs from './refs';\r\n\r\nconst ControlsGame = {\r\n  _timeLeft: 60,\r\n  _points: 0,\r\n  _intervalID: null,\r\n  _isRun: false,\r\n\r\n  get isRun() {\r\n    return this._isRun;\r\n  },\r\n  set isRun(isRun) {\r\n    this._isRun = isRun;\r\n  },\r\n\r\n  get timeLeft() {\r\n    return this._timeLeft;\r\n  },\r\n  set timeLeft(timeLeft) {\r\n    this._timeLeft = timeLeft;\r\n    refs.secsRef.innerHTML = this._timeLeft;\r\n  },\r\n\r\n  get points() {\r\n    return this._points;\r\n  },\r\n  set points(points) {\r\n    this._points = points;\r\n    refs.enemy.innerHTML = this._points;\r\n  },\r\n\r\n  get intervalID() {\r\n    return this._intervalID;\r\n  },\r\n  set intervalID(intervalID) {\r\n    this._intervalID = intervalID;\r\n  },\r\n\r\n  reset() {\r\n    this.timeLeft = 60;\r\n    this.points = 0;\r\n  },\r\n\r\n  // startTimer() {\r\n  //   const targetData = new Date().getTime() + this.defaultSec;\r\n  //   this.idInterval = setInterval(() => {\r\n  //     const tempDate = targetData - Date.now();\r\n  //     this.secLeft = Math.floor((tempDate % (1000 * 60)) / 1000);\r\n  //   });\r\n  // }\r\n};\r\n\r\nexport default ControlsGame;\r\n","import 'bootstrap';\r\nimport $ from 'jquery';\r\nimport refs from '../js/refs.js';\r\nimport controlsGame from './ControlsGame';\r\n\r\nconst Modal = {\r\n  showModal() {\r\n    refs.score.innerHTML = controlsGame.points;\r\n    $('.modals').modal('show');\r\n  },\r\n\r\n  closeModal() {\r\n    $('.modals').modal('hide');\r\n    refs.input.value = '';\r\n  },\r\n};\r\n\r\nexport default Modal;\r\n","//const child = document.querySelectorAll(\".child\");\nimport box from '../template/box.hbs';\n\nimport controlsGame from './ControlsGame';\n\nexport default class GameMaker {\n  constructor(gameField) {\n    this._gameField = gameField;\n    this.lenghtRow = 10;\n    this.lenghtCol = 10;\n    this.coubesContainer = null;\n    this.randomGenerateBoxID = null;\n    this.gamePlay = this.gamePlay.bind(this);\n  }\n\n  generateBox() {\n    console.log('generateBox');\n    const randomPosition = this.randomInteger(\n      0,\n      this.coubesContainer.length - 1,\n    );\n\n    if (this.coubesContainer[randomPosition].classList.contains('empty')) {\n      const randomSize = this.randomInteger(3, 10) * 10;\n      const randomColor = this.getColor();\n      const className = +randomSize <= 30 ? 'small-box' : 'big-box';\n      const markup = box({\n        randomSize,\n        randomColor,\n        className,\n      });\n\n      this.coubesContainer[randomPosition].innerHTML = markup;\n      this.coubesContainer[randomPosition].classList.remove('empty');\n      return;\n    }\n    this.generateBox();\n  }\n\n  gamePlay({ target }) {\n    if (\n      target.classList.contains('big-box') ||\n      target.classList.contains('small-box')\n    ) {\n      if (target.classList.contains('big-box')) {\n        controlsGame.points = controlsGame.points + 1;\n        controlsGame.timeLeft =\n          controlsGame.timeLeft - 1 <= 0\n            ? controlsGame.timeLeft\n            : controlsGame.timeLeft - 1;\n      } else {\n        controlsGame.points = controlsGame.points + 3;\n        controlsGame.timeLeft =\n          controlsGame.timeLeft + 1 < 60 ? controlsGame.timeLeft + 1 : 60;\n      }\n\n      target.parentElement.classList.add('empty');\n      target.remove();\n      this.generateBox();\n    }\n  }\n\n  init() {\n    this.generateBox();\n  }\n\n  randomGenerateBox() {\n    this.randomGenerateBoxID = setInterval(() => {\n      const randomCount = this.randomInteger(0, 2);\n      const resultFind = Array.from(this.coubesContainer).find(item =>\n        item.classList.contains('empty'),\n      );\n      if (resultFind) {\n        if (randomCount > 0) {\n          for (let i = 0; i < randomCount; i++) {\n            this.generateBox();\n          }\n        }\n      }\n    }, 1000);\n  }\n\n  generateField() {\n    this.gameField.innerHTML = '';\n    for (let i = 0; this.lenghtRow * this.lenghtCol > i; i++) {\n      this.gameField.insertAdjacentHTML(\n        'beforeend',\n        `<div class=\"cube empty\"></div>`,\n      );\n    }\n    this.coubesContainer = document.querySelectorAll('.cube');\n  }\n\n  get gameField() {\n    return this._gameField;\n  }\n\n  setListener(props) {\n    if (props === 'off') {\n      this._gameField.removeEventListener('click', this.gamePlay);\n      return;\n    }\n    this._gameField.addEventListener('click', this.gamePlay);\n  }\n\n  stopRandomGenerateBox() {\n    clearInterval(this.randomGenerateBoxID);\n  }\n\n  getColor() {\n    return `rgb(${this.setRandomColor()},${this.setRandomColor()},${this.setRandomColor()})`;\n  }\n\n  setRandomColor() {\n    const rand = 0 + Math.random() * (255 + 1 - 0);\n    return Math.floor(rand);\n  }\n\n  randomInteger(min, max) {\n    // получить случайное число от (min-0.5) до (max+0.5)\n    let rand = min - 0.5 + Math.random() * (max - min + 1);\n    return Math.round(rand);\n  }\n}\n","function addPlayers(player) {\n  localStorage.setItem('players', JSON.stringify([player, ...getPlayers()]));\n}\n\nfunction getPlayers() {\n  if (localStorage.getItem('players')) {\n    return JSON.parse(localStorage.getItem('players'))\n      .sort(compare)\n      .slice(0, 10);\n  }\n  return [];\n}\nfunction compare(a, b) {\n  if (a.points > b.points) return -1;\n  if (a.points < b.points) return 1;\n  return 0;\n}\n\nexport { addPlayers, getPlayers };\n","import playersTemplate from '../template/players.hbs';\nimport refs from './refs';\nimport { getPlayers } from './localStorageAPI';\n\nconst updateViewBestPlayer = {\n  render() {\n    refs.topPlayersTable.innerHTML = '';\n    const players = getPlayers();\n    const markup = playersTemplate(players);\n    refs.topPlayersTable.insertAdjacentHTML('beforeend', markup);\n  },\n};\n\nexport default updateViewBestPlayer;\n","import preload from './js/preolad';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './styles.scss';\nimport refs from './js/refs.js';\nimport modal from './js/Modal';\nimport GameMaker from './js/GameMaker.js';\nimport controlsGame from './js/ControlsGame';\nimport { addPlayers } from './js/localStorageAPI';\nimport updateViewBestPlayer from './js/updateViewBestPlayers';\n\nconst gameMaker = new GameMaker(refs.wrap);\n\nupdateViewBestPlayer.render();\n\nrefs.wrapBtn.addEventListener('click', run);\n\nfunction run({ target }) {\n  if (target.id === 'start') {\n    pause();\n    return;\n  }\n  getNewGame();\n}\n\nfunction getNewGame() {\n  if (controlsGame.isRun) {\n    stop();\n  }\n  console.log('init');\n  controlsGame.reset();\n  refs.btnStart.disabled = false;\n  gameMaker.generateField();\n  gameMaker.generateBox();\n  pause();\n}\n\nfunction pause() {\n  controlsGame.isRun = !controlsGame.isRun;\n  if (controlsGame.isRun) {\n    refs.btnStart.innerHTML = 'пауза';\n    gameMaker.randomGenerateBox();\n    gameMaker.setListener('on');\n    controlsGame.intervalID = setInterval(() => {\n      if (controlsGame.timeLeft === 0) {\n        stop();\n        modal.showModal();\n        return;\n      }\n      controlsGame.timeLeft = controlsGame.timeLeft - 1;\n    }, 1000);\n  } else {\n    refs.btnStart.innerHTML = 'старт';\n    console.log('pause');\n    clearInterval(controlsGame.intervalID);\n    gameMaker.setListener('off');\n    gameMaker.stopRandomGenerateBox();\n  }\n}\n\nfunction stop() {\n  gameMaker.setListener('off');\n  gameMaker.stopRandomGenerateBox();\n  clearInterval(controlsGame.intervalID);\n  controlsGame.isRun = false;\n  refs.btnStart.disabled = true;\n}\n\nrefs.form.addEventListener('submit', saveResult);\n\nfunction saveResult(e) {\n  e.preventDefault();\n  const namePlayer = e.currentTarget.elements.name.value;\n  const points = controlsGame.points;\n\n  addPlayers({\n    namePlayer,\n    points,\n  });\n  modal.closeModal();\n  updateViewBestPlayer.render();\n}\n"],"sourceRoot":""}