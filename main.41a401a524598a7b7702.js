(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1DEj":function(e,t,n){},FbyU:function(e,t,n){var o=n("mp5j");e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,o,r){var a,i=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+s("function"==typeof(a=null!=(a=c(n,"className")||(null!=t?c(t,"className"):t))?a:l)?a.call(i,{name:"className",hash:{},data:r,loc:{start:{line:1,column:12},end:{line:1,column:25}}}):a)+'" style="background-color: '+s("function"==typeof(a=null!=(a=c(n,"randomColor")||(null!=t?c(t,"randomColor"):t))?a:l)?a.call(i,{name:"randomColor",hash:{},data:r,loc:{start:{line:1,column:52},end:{line:1,column:67}}}):a)+"; width: "+s("function"==typeof(a=null!=(a=c(n,"randomSize")||(null!=t?c(t,"randomSize"):t))?a:l)?a.call(i,{name:"randomSize",hash:{},data:r,loc:{start:{line:1,column:76},end:{line:1,column:90}}}):a)+"%; height: "+s("function"==typeof(a=null!=(a=c(n,"randomSize")||(null!=t?c(t,"randomSize"):t))?a:l)?a.call(i,{name:"randomSize",hash:{},data:r,loc:{start:{line:1,column:101},end:{line:1,column:115}}}):a)+'%"></div>\r\n'},useData:!0})},"KEU/":function(e,t){},Ka4N:function(e,t,n){var o=n("mp5j");e.exports=(o.default||o).template({1:function(e,t,n,o,r){var a,i=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="top-players__item"><span class="info-player__index"> </span><span class="info-player">'+s("function"==typeof(a=null!=(a=c(n,"namePlayer")||(null!=t?c(t,"namePlayer"):t))?a:l)?a.call(i,{name:"namePlayer",hash:{},data:r,loc:{start:{line:2,column:97},end:{line:2,column:111}}}):a)+'</span> <span class="info-player">'+s("function"==typeof(a=null!=(a=c(n,"points")||(null!=t?c(t,"points"):t))?a:l)?a.call(i,{name:"points",hash:{},data:r,loc:{start:{line:2,column:145},end:{line:2,column:155}}}):a)+"</span></li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,r){var a;return null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:3,column:9}}}))?a:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("D/wG"),setTimeout((function(){document.querySelector(".loader-wrapper").classList.add("loader-hide")}),2e3),n("ranI"),n("1DEj");var o={wrap:document.querySelector(".wrap"),secsRef:document.querySelector(".timer"),enemy:document.querySelector(".enemy"),wrapBtn:document.querySelector(".buttons-wrap"),btnStart:document.querySelector(".start"),form:document.querySelector(".form"),input:document.querySelector("#name"),score:document.querySelector(".your-result__score"),topPlayersTable:document.querySelector(".top-players")},r=(n("Omr6"),n("qIEf")),a=n.n(r),i=(n("KEU/"),{_timeLeft:60,_points:0,_intervalID:null,_isRun:!1,get isRun(){return this._isRun},set isRun(e){this._isRun=e},get timeLeft(){return this._timeLeft},set timeLeft(e){this._timeLeft=e,o.secsRef.innerHTML=this._timeLeft},get points(){return this._points},set points(e){this._points=e,o.enemy.innerHTML=this._points},get intervalID(){return this._intervalID},set intervalID(e){this._intervalID=e},reset:function(){this.timeLeft=60,this.points=0}}),l={showModal:function(){o.score.innerHTML=i.points,a()(".modals").modal("show")},closeModal:function(){a()(".modals").modal("hide"),o.input.value=""}},s=(n("IlJM"),n("4owi"),n("WoWj"),n("FbyU")),c=n.n(s);function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var m=function(){function e(e){this._gameField=e,this.lenghtRow=10,this.lenghtCol=10,this.coubesContainer=null,this.randomGenerateBoxID=null,this.gamePlay=this.gamePlay.bind(this)}var t,n,o,r=e.prototype;return r.generateBox=function(){console.log("generateBox");var e=this.randomInteger(0,this.coubesContainer.length-1);if(this.coubesContainer[e].classList.contains("empty")){var t=10*this.randomInteger(3,10),n=this.getColor(),o=+t<=30?"small-box":"big-box",r=c()({randomSize:t,randomColor:n,className:o});return this.coubesContainer[e].innerHTML=r,void this.coubesContainer[e].classList.remove("empty")}this.generateBox()},r.gamePlay=function(e){var t=e.target;(t.classList.contains("big-box")||t.classList.contains("small-box"))&&(t.classList.contains("big-box")?(i.points=i.points+1,i.timeLeft=i.timeLeft-1<=0?i.timeLeft:i.timeLeft-1):(i.points=i.points+3,i.timeLeft=i.timeLeft+1<60?i.timeLeft+1:60),t.parentElement.classList.add("empty"),t.remove(),this.generateBox())},r.init=function(){this.generateBox()},r.randomGenerateBox=function(){var e=this;this.randomGenerateBoxID=setInterval((function(){var t=e.randomInteger(0,2);if(Array.from(e.coubesContainer).find((function(e){return e.classList.contains("empty")}))&&t>0)for(var n=0;n<t;n++)e.generateBox()}),1e3)},r.generateField=function(){this.gameField.innerHTML="";for(var e=0;this.lenghtRow*this.lenghtCol>e;e++)this.gameField.insertAdjacentHTML("beforeend",'<div class="cube empty"></div>');this.coubesContainer=document.querySelectorAll(".cube")},r.setListener=function(e){"off"!==e?this._gameField.addEventListener("click",this.gamePlay):this._gameField.removeEventListener("click",this.gamePlay)},r.stopRandomGenerateBox=function(){clearInterval(this.randomGenerateBoxID)},r.getColor=function(){return"rgb("+this.setRandomColor()+","+this.setRandomColor()+","+this.setRandomColor()+")"},r.setRandomColor=function(){var e=0+256*Math.random();return Math.floor(e)},r.randomInteger=function(e,t){var n=e-.5+Math.random()*(t-e+1);return Math.round(n)},t=e,(n=[{key:"gameField",get:function(){return this._gameField}}])&&u(t.prototype,n),o&&u(t,o),e}();n("hi3g"),n("WB5j"),n("aOEW");function d(){return localStorage.getItem("players")?JSON.parse(localStorage.getItem("players")).sort(p).slice(0,10):[]}function p(e,t){return e.points>t.points?-1:e.points<t.points?1:0}var f=n("Ka4N"),h=n.n(f),y={render:function(){o.topPlayersTable.innerHTML="";var e=d(),t=h()(e);o.topPlayersTable.insertAdjacentHTML("beforeend",t)}},g=new m(o.wrap);function v(){i.isRun=!i.isRun,i.isRun?(o.btnStart.innerHTML="пауза",g.randomGenerateBox(),g.setListener("on"),i.intervalID=setInterval((function(){if(0===i.timeLeft)return b(),void l.showModal();i.timeLeft=i.timeLeft-1}),1e3)):(o.btnStart.innerHTML="старт",console.log("pause"),clearInterval(i.intervalID),g.setListener("off"),g.stopRandomGenerateBox())}function b(){g.setListener("off"),g.stopRandomGenerateBox(),clearInterval(i.intervalID),i.isRun=!1,o.btnStart.disabled=!0}y.render(),o.wrapBtn.addEventListener("click",(function(e){if("start"===e.target.id)return void v();!function(){i.isRun&&b();console.log("init"),i.reset(),o.btnStart.disabled=!1,g.generateField(),g.generateBox(),v()}()})),o.form.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget.elements.name.value,n=i.points;o={namePlayer:t,points:n},localStorage.setItem("players",JSON.stringify([o].concat(d()))),l.closeModal(),y.render();var o}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.41a401a524598a7b7702.js.map